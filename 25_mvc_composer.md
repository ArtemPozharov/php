# Model View Controller, Composer и как с "этим" теперь жить?

## Вместо предисловия
`Пишите код так, как будто сопровождать его будет склонный к насилию психопат, который знает, где вы живёте`


![Rick and Morty](images/zagruzheno.png)

## Model View Controller

`Я был готов к нападению любого психа. У меня была вилка.`

**Model-View-Controller** (MVC, «Модель-Представление-Контроллер», «Модель-Вид-Контроллер») — схема разделения данных приложения, 
пользовательского интерфейса и управляющей логики на три отдельных компонента: 
модель, представление и контроллер — таким образом, 
что модификация каждого компонента может осуществляться независимо.

**Модель** (Model) предоставляет данные и реагирует на команды контроллера, изменяя своё состояние.
**Представление** (View) отвечает за отображение данных модели пользователю, реагируя на изменения модели.
**Контроллер** (Controller) интерпретирует действия пользователя, оповещая модель о необходимости изменений.

![chego](images/maxresdefault.jpg)

За счет разделения у нас появляются более широкие возможности повторного использования кода (наследование). Особенно это помогает, когда пользователь должен видеть те же самые данные в различных контекстах и/или с различных точек зрения.

### Схема работы

![mvc-01](images/MVC_Scheme_ru.png)

### Controller

`Я человек простой. Вижу запрос и сразу его обрабатываю!`
![simple_man](images/simpleman.jpeg)


По сути задачи контроллера можно разделить на 2 части
1) Обработка запроса **Request**
2) Выдача ответы **Response**

**Controller** является некой "прослойкой" между **Model** и **View**
Существует два понятие это Fat Controllers и Slim Controllers

#### Fat Controller
![fat_controller](images/fat_controller.jpg)

Характеристика Controller в том случае если большая часть логики(или вся) содержится в контроллере
 
![do_not](images/do_not.jpg)

#### Slim Controller

![catana](images/catana.jpg)

Характеристика Controller при котором вся основная логика сводится к обработке запроса и возвращение ответа.


### View

![circk](images/circ.jpg)

**View** (Представление) отвечает за получение необходимых данных из модели и отправляет их пользователю. Представление не обрабатывает введённые данные пользователя

Нет! Нельзя в **view** вычислять формулы. 
Нет! Hельзя из **view** делать запросы в базу данный!

**View** оперирует только за отображение данных которые приходят из вне. В данном случае из **Controller**

### Model

![model](images/model.jpg)

Под **Model**, обычно понимается часть содержащая в себе функциональную бизнес-логику приложения. 
Модель должна быть полностью независима от остальных частей продукта. 
Модельный слой ничего не должен знать об элементах дизайна, и каким образом он будет отображаться. 
Достигается результат, позволяющий менять представление данных, то как они отображаются, не трогая саму Модель.

Модель обладает следующими признаками:
- Модель — это бизнес-логика приложения;
- Модель обладает знаниями о себе самой и не знает о контроллерах и представлениях;
- Для некоторых проектов модель — это просто слой данных (DAO, база данных, XML-файл);
- Для других проектов модель — это менеджер базы данных, набор объектов или просто логика приложения;


## Composer

![composer](images/composer.png)

**Composer** — это пакетный менеджер уровня приложений для языка программирования PHP, который предоставляет средства по управлению зависимостями в PHP-приложении.

В мире PHP существует достаточно много готовых решений. 
Например для работы с базой у нас

## Источники

[Паттерны для новичков: MVC vs MVP vs MVVM](https://habr.com/ru/post/215605/)

[Wikipedia Model-View-Controller](https://ru.wikipedia.org/wiki/Model-View-Controller)